<p-card class="mt-4 block mx-auto w-full md:w-9 lg:w-7">
  <ng-container *ngIf="loading; else resultTpl">
    <div class="flex flex-column align-items-center justify-content-center py-6">
      <p-progressSpinner></p-progressSpinner>
      <p class="mt-3 text-600">Validation du paiement…</p>
    </div>
  </ng-container>

  <ng-template #resultTpl>
    <div class="flex align-items-center justify-content-between">
      <div>
        <h2 class="m-0">Paiement confirmé</h2>
        <p class="m-0 text-600">Session : {{ sessionId }}</p>
      </div>
      <p-tag
        [severity]="lookup?.status === 'succeeded' ? 'success' : 'info'"
        [value]="lookup?.status || 'pending'">
      </p-tag>
    </div>

    <div class="mt-4 grid">
      <div class="col-12 md:col-6">
        <div class="text-700">Montant</div>
        <div class="text-xl font-bold">
          <!-- {{ eurosFromCents(lookup?.amount) | number:'1.2-2' }} {{ lookup?.currency?.toUpperCase() }} -->
        </div>
      </div>
      <div class="col-12 md:col-6">
        <div class="text-700">Référence</div>
        <div class="text-xl font-bold">{{ lookup?.metadata?.order_id || '—' }}</div>
      </div>
    </div>

    <div class="mt-5 flex gap-2">
      <button pButton label="Voir le transfert"
              icon="pi pi-eye"
              [disabled]="!lookup?.transfert_id"
              [routerLink]="['/dashboard/transfert/detail', lookup?.transfert_id]">
      </button>

      <button pButton label="Retour au transfert"
              class="p-button-text"
              icon="pi pi-arrow-left"
              routerLink="/dashboard/send">
      </button>
    </div>
  </ng-template>
</p-card>
